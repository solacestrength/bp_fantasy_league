<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>League Entry | British Classic Fantasy League 2025 üá¨üáß</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    @keyframes fadeInUp {
      0% { opacity: 0; transform: translateY(10px); }
      100% { opacity: 1; transform: translateY(0); }
    }
    .animate-fade-in-up { animation: fadeInUp 0.8s ease-out forwards; }
    .animate-fade-in { animation: fadeInUp 1s ease-out forwards; }
    .fade-out { opacity: 0; transition: opacity 0.6s ease; }
  </style>
  <link rel="stylesheet" href="/assets/css/fix-dropdown.css">
</head>
<body id="top" class="relative bg-gray-900 text-white font-sans">
  <div class="absolute inset-0 bg-[url('image_entry.jpg')] bg-cover bg-center opacity-45 site-background"></div>
  <div class="absolute inset-0 bg-black/70 site-background-overlay"></div>

  <div class="relative z-10">
    <!-- Header -->
    <header class="site-header w-full bg-gray-900/90 backdrop-blur-sm border-b border-gray-800 relative z-50">
      <div class="w-full flex items-center justify-center px-4 py-3">
        <div class="flex-1 text-center">
          <a href="index.html" class="font-bold text-white hover:text-red-500 transition animate-fade-in-up text-sm sm:text-lg md:text-xl lg:text-2xl">
            British Classic Fantasy League 2025 üá¨üáß
          </a>
        </div>
        <div class="absolute right-4 top-1/2 -translate-y-1/2">
          <button id="menu-btn" aria-expanded="false" class="text-gray-300 p-2 rounded-md hover:bg-gray-800/50">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-7 w-7" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/>
            </svg>
            <span class="sr-only">Open menu</span>
          </button>
        </div>
      </div>
    </header>

    <!-- Mobile menu -->
    <div id="mobile-menu" class="fixed top-16 right-4 w-48 bg-gray-900/95 backdrop-blur-sm border border-gray-800 rounded-md shadow-lg z-50 scale-y-0 opacity-0 origin-top transition-transform duration-300 ease-in-out pointer-events-none">
      <nav class="flex flex-col py-2 text-white">
        <a href="index.html" class="px-4 py-2 hover:text-red-500 hover:bg-gray-800 transition">Home</a>
        <a href="entry.html" class="px-4 py-2 hover:text-red-500 hover:bg-gray-800 transition">League Entry</a>
        <a href="leaderboard.html" class="px-4 py-2 hover:text-red-500 hover:bg-gray-800 transition">Leaderboard</a>
        <a href="accuracy_scores.html" class="px-4 py-2 hover:text-red-500 hover:bg-gray-800 transition">Accuracy Scores</a>
        <a href="metrics.html" class="px-4 py-2 hover:text-red-500 hover:bg-gray-800 transition">Metrics</a>
      </nav>
    </div>

    <!-- Main content -->
    <main class="mt-6 md:mt-10 animate-fade-in">
      <section class="max-w-2xl mx-auto text-center mb-6">
        <p class="text-l"><b>Enter and see where you stack up</b> üèÜ</p>
        <p class="text-sm text-gray-400 mt-2">
          N.B. Tap/click Spotify pop-up button then return to entry page. If you prefer, complete on desktop for a better user experience.
        </p>
      </section>

      <!-- Spotify + form section -->
      <section class="w-full flex flex-col items-center mt-8 px-4 relative max-w-3xl mx-auto">
        <!-- Spotify overlay prompt -->
        <div id="spotify-lock" class="absolute inset-0 flex flex-col items-center justify-start pt-6 space-y-4 bg-black/80 rounded-xl text-center p-6 z-20 transition-all duration-500">
          <img src="IMG_8931.jpeg" alt="Soft gate image" id="softGateImage" class="w-40 sm:w-56 rounded-lg mb-4 transition-opacity duration-500" />
          <p class="text-lg font-semibold">üéß Follow link below to enter!</p>
          <p class="text-sm text-gray-300 max-w-md">
            Please open the latest Sabado Sessions Podcast episode on Spotify before entering the league.
          </p>
          <a href="https://open.spotify.com/embed/episode/41cXsmfh2Q9k5qGwckWgtN"
             target="_blank"
             rel="noopener noreferrer"
             id="spotify-link"
             class="bg-green-600 hover:bg-green-500 text-white font-semibold py-2 px-4 rounded-lg transition">
            Open Spotify Podcast
          </a>
        </div>

        <!-- Form container -->
        <div id="form-container" class="relative w-full rounded-xl overflow-hidden border border-gray-700 bg-gray-900/70 transition-all duration-500 px-4 py-4">
          <!-- Multi-step form -->
          <div id="form-inner" class="max-w-3xl mx-auto">
            <div id="step-label" class="text-xs uppercase tracking-wide text-gray-400 mb-2"></div>
            <div id="status" class="text-sm mt-1"></div>

            <form id="bcfl-form" class="space-y-6">
              <!-- Hidden token (for edits) -->
              <input type="hidden" id="token" name="token" />

              <!-- TOP NAV BUTTONS FOR PAGE 2 (Steps 2 & 3) -->
              <div id="predictionsTopNav"
                   class="hidden items-center justify-between pt-3 pb-3 border-b border-gray-700 mb-4">
                <button type="button" id="topBackBtn"
                        class="px-3 py-2 rounded-full bg-gray-800 text-xs font-semibold border border-gray-700 hover:bg-gray-700 transition">
                  Back
                </button>

                <button type="button" id="topNextBtn"
                        class="px-4 py-2 rounded-full bg-red-600 text-xs sm:text-sm font-semibold hover:bg-red-500 transition">
                  Next
                </button>
              </div>

              <!-- STEP 0: Contact -->
              <div class="step" data-step="0">
                <div class="space-y-3">
                  <div>
                    <p class="text-sm text-gray-300 mb-4">
                      Click
                      <a href="index.html#rulesToggle" target="_blank" rel="noopener noreferrer" class="underline hover:text-gray-200">
                        here</a> for competition rules and
                      <a href="index.html#prizesToggle" target="_blank" rel="noopener noreferrer" class="underline hover:text-gray-200">
                        here</a> for our prize list thanks to our sponsors at the
                      <a href="https://www.instagram.com/sabadosessionspodcast/?hl=en-gb"
                         target="_blank" rel="noopener noreferrer"
                         class="underline hover:text-gray-200">
                        Sabado Sessions Podcast</a>.
                    </p>
                    <label for="email" class="block text-sm font-semibold mb-1">
                      Email Address<span class="text-red-500">*</span>
                    </label>
                    <input type="email" id="email" name="email"
                           class="w-full px-3 py-2 rounded-md bg-gray-800 border border-gray-700 text-sm" />
                    <p id="emailError" class="text-xs text-red-400 mt-1"></p>
                  </div>
                  <div>
                    <label for="instagramHandle" class="block text-sm font-semibold mb-1">Instagram Handle</label>
                    <input type="text" id="instagramHandle" name="instagramHandle"
                           class="w-full px-3 py-2 rounded-md bg-gray-800 border border-gray-700 text-sm" />
                  </div>
                  <div>
                    <label for="leaderboardName" class="block text-sm font-semibold mb-1">
                      Leaderboard Name <span class="text-red-500">*</span>
                    </label>
                    <input type="text" id="leaderboardName" name="leaderboardName"
                           class="w-full px-3 py-2 rounded-md bg-gray-800 border border-gray-700 text-sm" />
                    <p class="text-xs text-gray-400 mt-1">
                      This is how you will appear on the public leaderboard.
                    </p>
                    <p id="leaderboardError" class="text-xs text-red-400 mt-1"></p>
                  </div>
                </div>
              </div>

              <!-- STEP 1: Women (8 classes) -->
              <div class="step" data-step="1">
                <h2 class="text-xs uppercase tracking-wide text-gray-400 mb-1">
                  Step 2 of 4 ‚Äî Women‚Äôs Predictions
                </h2>
                <p class="text-xs text-gray-400 mb-4">
                  For each class, pick your winner, assign a unique confidence rating from 1 (least confident) to 16 (most), and optionally enter a winning total. Totals are used to calculate accuracy scores which will be used as a
                  tie-breaker - don't skip if you're in it to win it!
                </p>

                <!-- 47 kg Women -->
                <div class="border border-gray-700 rounded-md p-3 mb-3">
                  <h3 class="font-semibold text-sm mb-2">47 kg Women</h3>
                  <div class="space-y-2">
                    <div>
                      <label class="text-xs font-semibold mb-1 block">
                        Predicted Winner <span class="text-red-500">*</span>
                      </label>
                      <select id="w47w" name="w47w" data-gender="female"
                              class="w-full bg-gray-800 border border-gray-700 rounded-md px-2 py-1.5 text-sm">
                        <option value="">Select a lifter‚Ä¶</option>
                        <option>Anais Falcon (325 kg)</option>
                        <option>Sharvari Karnik (322.5 kg)</option>
                        <option>Nikola Murray (320 kg)</option>
                        <option>Lauren Murray (307.5 kg)</option>
                        <option>Gigi Nicolson (305 kg)</option>
                      </select>
                      <p id="w47wError" class="text-xs text-red-400 mt-1"></p>
                    </div>
                    <div>
                      <label class="text-xs font-semibold mb-1 block">
                        Confidence Rating (1‚Äì16) <span class="text-red-500">*</span>
                      </label>
                      <select id="c47w" name="c47w"
                              class="conf-select w-full bg-gray-800 border border-gray-700 rounded-md px-2 py-1.5 text-sm">
                        <option value="">Select rating‚Ä¶</option>
                      </select>
                      <p id="c47wError" class="text-xs text-red-400 mt-1"></p>
                    </div>
                    <div>
                      <label class="text-xs font-semibold mb-1 block">Winning Total</label>
                      <input type="text" id="t47w" name="t47w"
                             class="w-full bg-gray-800 border border-gray-700 rounded-md px-2 py-1.5 text-sm" />
                      <p id="t47wError" class="text-xs text-red-400 mt-1"></p>
                    </div>
                  </div>
                </div>

                <!-- 52 kg Women -->
                <div class="border border-gray-700 rounded-md p-3 mb-3">
                  <h3 class="font-semibold text-sm mb-2">52 kg Women</h3>
                  <div class="space-y-2">
                    <div>
                      <label class="text-xs font-semibold mb-1 block">
                        Predicted Winner <span class="text-red-500">*</span>
                      </label>
                      <select id="w52w" name="w52w" data-gender="female"
                              class="w-full bg-gray-800 border border-gray-700 rounded-md px-2 py-1.5 text-sm">
                        <option value="">Select a lifter‚Ä¶</option>
                        <option>Leoni Tatman (395 kg)</option>
                        <option>Molly Clark (383 kg)</option>
                        <option>Emily Caton (382.5 kg)</option>
                        <option>Cherry Yeung-Murray (372.5 kg)</option>
                        <option>Kayley Phillips (355 kg)</option>
                        <option>Aliz√©e Tran (347.5 kg)</option>
                        <option>Christina Bull (320 kg)</option>
                        <option>Amethyst Johnson (320 kg)</option>
                        <option>Aimee Law (315 kg)</option>
                      </select>
                      <p id="w52wError" class="text-xs text-red-400 mt-1"></p>
                    </div>
                    <div>
                      <label class="text-xs font-semibold mb-1 block">
                        Confidence Rating (1‚Äì16) <span class="text-red-500">*</span>
                      </label>
                      <select id="c52w" name="c52w"
                              class="conf-select w-full bg-gray-800 border border-gray-700 rounded-md px-2 py-1.5 text-sm">
                        <option value="">Select rating‚Ä¶</option>
                      </select>
                      <p id="c52wError" class="text-xs text-red-400 mt-1"></p>
                    </div>
                    <div>
                      <label class="text-xs font-semibold mb-1 block">Winning Total</label>
                      <input type="text" id="t52w" name="t52w"
                             class="w-full bg-gray-800 border border-gray-700 rounded-md px-2 py-1.5 text-sm" />
                      <p id="t52wError" class="text-xs text-red-400 mt-1"></p>
                    </div>
                  </div>
                </div>

                <!-- 57 kg Women -->
                <div class="border border-gray-700 rounded-md p-3 mb-3">
                  <h3 class="font-semibold text-sm mb-2">57 kg Women</h3>
                  <div class="space-y-2">
                    <div>
                      <label class="text-xs font-semibold mb-1 block">
                        Predicted Winner <span class="text-red-500">*</span>
                      </label>
                      <select id="w57w" name="w57w" data-gender="female"
                              class="w-full bg-gray-800 border border-gray-700 rounded-md px-2 py-1.5 text-sm">
                        <option value="">Select a lifter‚Ä¶</option>
                        <option>Joy Nnamani (506 kg)</option>
                        <option>Bobbie Butters (491.5 kg)</option>
                        <option>Adejoke Adetayo (478 kg)</option>
                        <option>Caitlin Baxter (432.5 kg)</option>
                        <option>Katie Rimell (402.5 kg)</option>
                        <option>Sveva Galizia (395 kg)</option>
                        <option>Yana Lyntovska (390 kg)</option>
                        <option>Becky Clarke (385.5 kg)</option>
                        <option>Natalie Jeal (380 kg)</option>
                        <option>Kelly Canones (355 kg)</option>
                        <option>Morag Campbell (347.5 kg)</option>
                        <option>Holly Judge (342.5 kg)</option>
                        <option>Nasmeen Imran (337.5 kg)</option>
                        <option>Chloe Cheevers (330.5 kg)</option>
                      </select>
                      <p id="w57wError" class="text-xs text-red-400 mt-1"></p>
                    </div>
                    <div>
                      <label class="text-xs font-semibold mb-1 block">
                        Confidence Rating (1‚Äì16) <span class="text-red-500">*</span>
                      </label>
                      <select id="c57w" name="c57w"
                              class="conf-select w-full bg-gray-800 border border-gray-700 rounded-md px-2 py-1.5 text-sm">
                        <option value="">Select rating‚Ä¶</option>
                      </select>
                      <p id="c57wError" class="text-xs text-red-400 mt-1"></p>
                    </div>
                    <div>
                      <label class="text-xs font-semibold mb-1 block">Winning Total</label>
                      <input type="text" id="t57w" name="t57w"
                             class="w-full bg-gray-800 border border-gray-700 rounded-md px-2 py-1.5 text-sm" />
                      <p id="t57wError" class="text-xs text-red-400 mt-1"></p>
                    </div>
                  </div>
                </div>

                <!-- 63 kg Women -->
                <div class="border border-gray-700 rounded-md p-3 mb-3">
                  <h3 class="font-semibold text-sm mb-2">63 kg Women</h3>
                  <div class="space-y-2">
                    <div>
                      <label class="text-xs font-semibold mb-1 block">
                        Predicted Winner <span class="text-red-500">*</span>
                      </label>
                      <select id="w63w" name="w63w" data-gender="female"
                              class="w-full bg-gray-800 border border-gray-700 rounded-md px-2 py-1.5 text-sm">
                        <option value="">Select a lifter‚Ä¶</option>
                        <option>Sabrina Downes (487.5 kg)</option>
                        <option>Makeda Vidal (480.5 kg)</option>
                        <option>Suzanne Daniel (470 kg)</option>
                        <option>Kathleen Smartt (447.5 kg)</option>
                        <option>Tara Pigott (447.5 kg)</option>
                        <option>Hannah Yardy (447.5 kg)</option>
                        <option>Hannah Clayton (442.5 kg)</option>
                        <option>Jessica Conti (422.5 kg)</option>
                        <option>Lisa Kells (407.5 kg)</option>
                        <option>Claudia Nicolson (407.5 kg)</option>
                        <option>Katie Roberts (400 kg)</option>
                        <option>Robyn Rocks (362.5 kg)</option>
                        <option>Catriona Armstrong (347.5 kg)</option>
                        <option>Leigh-Ann McQuillan (322.5 kg)</option>
                      </select>
                      <p id="w63wError" class="text-xs text-red-400 mt-1"></p>
                    </div>
                    <div>
                      <label class="text-xs font-semibold mb-1 block">
                        Confidence Rating (1‚Äì16) <span class="text-red-500">*</span>
                      </label>
                      <select id="c63w" name="c63w"
                              class="conf-select w-full bg-gray-800 border border-gray-700 rounded-md px-2 py-1.5 text-sm">
                        <option value="">Select rating‚Ä¶</option>
                      </select>
                      <p id="c63wError" class="text-xs text-red-400 mt-1"></p>
                    </div>
                    <div>
                      <label class="text-xs font-semibold mb-1 block">Winning Total</label>
                      <input type="text" id="t63w" name="t63w"
                             class="w-full bg-gray-800 border border-gray-700 rounded-md px-2 py-1.5 text-sm" />
                      <p id="t63wError" class="text-xs text-red-400 mt-1"></p>
                    </div>
                  </div>
                </div>

                <!-- 69 kg Women -->
                <div class="border border-gray-700 rounded-md p-3 mb-3">
                  <h3 class="font-semibold text-sm mb-2">69 kg Women</h3>
                  <div class="space-y-2">
                    <div>
                      <label class="text-xs font-semibold mb-1 block">
                        Predicted Winner <span class="text-red-500">*</span>
                      </label>
                      <select id="w69w" name="w69w" data-gender="female"
                              class="w-full bg-gray-800 border border-gray-700 rounded-md px-2 py-1.5 text-sm">
                        <option value="">Select a lifter‚Ä¶</option>
                        <option>Annie Nelson (530 kg)</option>
                        <option>Mariella Fisher (485 kg)</option>
                        <option>Grace Stilgoe (483.5 kg)</option>
                        <option>Benedetta Lupattelli Gencarelli (483 kg)</option>
                        <option>Dominique Cox (470 kg)</option>
                        <option>Helen Almond (470 kg)</option>
                        <option>Amy Craig (462.5 kg)</option>
                        <option>Katherine Brennan (460 kg)</option>
                        <option>Christina Kio-Bennett (457.5 kg)</option>
                        <option>Grace Allinson (457.5 kg)</option>
                        <option>Louise Bray (455 kg)</option>
                        <option>Stacie Jones (450 kg)</option>
                        <option>Faye McKie (447.5kg)</option>
                        <option>Dana Suitor (395 kg)</option>
                      </select>
                      <p id="w69wError" class="text-xs text-red-400 mt-1"></p>
                    </div>
                    <div>
                      <label class="text-xs font-semibold mb-1 block">
                        Confidence Rating (1‚Äì16) <span class="text-red-500">*</span>
                      </label>
                      <select id="c69w" name="c69w"
                              class="conf-select w-full bg-gray-800 border border-gray-700 rounded-md px-2 py-1.5 text-sm">
                        <option value="">Select rating‚Ä¶</option>
                      </select>
                      <p id="c69wError" class="text-xs text-red-400 mt-1"></p>
                    </div>
                    <div>
                      <label class="text-xs font-semibold mb-1 block">Winning Total</label>
                      <input type="text" id="t69w" name="t69w"
                             class="w-full bg-gray-800 border border-gray-700 rounded-md px-2 py-1.5 text-sm" />
                      <p id="t69wError" class="text-xs text-red-400 mt-1"></p>
                    </div>
                  </div>
                </div>

                <!-- 76 kg Women -->
                <div class="border border-gray-700 rounded-md p-3 mb-3">
                  <h3 class="font-semibold text-sm mb-2">76 kg Women</h3>
                  <div class="space-y-2">
                    <div>
                      <label class="text-xs font-semibold mb-1 block">
                        Predicted Winner <span class="text-red-500">*</span>
                      </label>
                      <select id="w76w" name="w76w" data-gender="female"
                              class="w-full bg-gray-800 border border-gray-700 rounded-md px-2 py-1.5 text-sm">
                        <option value="">Select a lifter‚Ä¶</option>
                        <option>Temitope Nuga (532.5 kg)</option>
                        <option>Ayana Porteous-Simpson (530 kg)</option>
                        <option>Bettina Hanlon (520 kg)</option>
                        <option>Llio Godfrey-Flower (519.5 kg)</option>
                        <option>Alice Francis-Freeman (512.5 kg)</option>
                        <option>Romy Grieve (487.5 kg)</option>
                        <option>Aimee Guthrie (485.5 kg)</option>
                        <option>Ella Dronfield (481.5 kg)</option>
                        <option>Indiana Montaque (480 kg)</option>
                        <option>Naomi James (477.5 kg)</option>
                        <option>Millie Mabbutt (453.5 kg)</option>
                        <option>Charleigh Lacey (450 kg)</option>
                        <option>Izzy Hartley (445 kg)</option>
                      </select>
                      <p id="w76wError" class="text-xs text-red-400 mt-1"></p>
                    </div>
                    <div>
                      <label class="text-xs font-semibold mb-1 block">
                        Confidence Rating (1‚Äì16) <span class="text-red-500">*</span>
                      </label>
                      <select id="c76w" name="c76w"
                              class="conf-select w-full bg-gray-800 border border-gray-700 rounded-md px-2 py-1.5 text-sm">
                        <option value="">Select rating‚Ä¶</option>
                      </select>
                      <p id="c76wError" class="text-xs text-red-400 mt-1"></p>
                    </div>
                    <div>
                      <label class="text-xs font-semibold mb-1 block">Winning Total</label>
                      <input type="text" id="t76w" name="t76w"
                             class="w-full bg-gray-800 border border-gray-700 rounded-md px-2 py-1.5 text-sm" />
                      <p id="t76wError" class="text-xs text-red-400 mt-1"></p>
                    </div>
                  </div>
                </div>

                <!-- 84 kg Women -->
                <div class="border border-gray-700 rounded-md p-3 mb-3">
                  <h3 class="font-semibold text-sm mb-2">84 kg Women</h3>
                  <div class="space-y-2">
                    <div>
                      <label class="text-xs font-semibold mb-1 block">
                        Predicted Winner <span class="text-red-500">*</span>
                      </label>
                      <select id="w84w" name="w84w" data-gender="female"
                              class="w-full bg-gray-800 border border-gray-700 rounded-md px-2 py-1.5 text-sm">
                        <option value="">Select a lifter‚Ä¶</option>
                        <option>Ziana Azariah (600 kg)</option>
                        <option>Melina Irawo (555.5 kg)</option>
                        <option>Racheal Raji (507.5 kg)</option>
                        <option>Hollie Tobun (502.5 kg)</option>
                        <option>Sian Arterton (492.5 kg)</option>
                        <option>Hettie Simpson (480 kg)</option>
                        <option>Abigail Marshall (455 kg)</option>
                        <option>Hanah Andrew (454 kg)</option>
                        <option>Caitlin Dinnen (427.5 kg)</option>
                        <option>Ellen Judson (415 kg)</option>
                        <option>Sally Sweeny (412.5 kg)</option>
                        <option>Sarah Rose (407.5 kg)</option>
                        <option>Terri Britton (352.5 kg)</option>
                      </select>
                      <p id="w84wError" class="text-xs text-red-400 mt-1"></p>
                    </div>
                    <div>
                      <label class="text-xs font-semibold mb-1 block">
                        Confidence Rating (1‚Äì16) <span class="text-red-500">*</span>
                      </label>
                      <select id="c84w" name="c84w"
                              class="conf-select w-full bg-gray-800 border border-gray-700 rounded-md px-2 py-1.5 text-sm">
                        <option value="">Select rating‚Ä¶</option>
                      </select>
                      <p id="c84wError" class="text-xs text-red-400 mt-1"></p>
                    </div>
                    <div>
                      <label class="text-xs font-semibold mb-1 block">Winning Total</label>
                      <input type="text" id="t84w" name="t84w"
                             class="w-full bg-gray-800 border border-gray-700 rounded-md px-2 py-1.5 text-sm" />
                      <p id="t84wError" class="text-xs text-red-400 mt-1"></p>
                    </div>
                  </div>
                </div>

                <!-- 84+ kg Women -->
                <div class="border border-gray-700 rounded-md p-3 mb-3">
                  <h3 class="font-semibold text-sm mb-2">84+ kg Women</h3>
                  <div class="space-y-2">
                    <div>
                      <label class="text-xs font-semibold mb-1 block">
                        Predicted Winner <span class="text-red-500">*</span>
                      </label>
                      <select id="w84pw" name="w84pw" data-gender="female"
                              class="w-full bg-gray-800 border border-gray-700 rounded-md px-2 py-1.5 text-sm">
                        <option value="">Select a lifter‚Ä¶</option>
                        <option>Aquinn Onuoha (618.5 kg)</option>
                        <option>Toyosi Omotoso (615.5 kg)</option>
                        <option>Dominique Fortune (572.5 kg)</option>
                        <option>Mel Rawsthrone (517.5 kg)</option>
                        <option>Victoria Cavalier-Hirth (517.5 kg)</option>
                        <option>Caitlin Davies (510 kg)</option>
                        <option>Rebecca Coggle (507.5 kg)</option>
                        <option>Catriona Bell (500 kg)</option>
                        <option>Milly Stoneley (482.5 kg)</option>
                        <option>Scarlett Sotiris (475 kg)</option>
                        <option>Victoria Alli (470 kg)</option>
                        <option>Jennifer Payet (455 kg)</option>
                        <option>Jenna Turner (455 kg)</option>
                        <option>Annalisa Valente (450 kg)</option>
                      </select>
                      <p id="w84pwError" class="text-xs text-red-400 mt-1"></p>
                    </div>
                    <div>
                      <label class="text-xs font-semibold mb-1 block">
                        Confidence Rating (1‚Äì16) <span class="text-red-500">*</span>
                      </label>
                      <select id="c84pw" name="c84pw"
                              class="conf-select w-full bg-gray-800 border border-gray-700 rounded-md px-2 py-1.5 text-sm">
                        <option value="">Select rating‚Ä¶</option>
                      </select>
                      <p id="c84pwError" class="text-xs text-red-400 mt-1"></p>
                    </div>
                    <div>
                      <label class="text-xs font-semibold mb-1 block">Winning Total</label>
                      <input type="text" id="t84pw" name="t84pw"
                             class="w-full bg-gray-800 border border-gray-700 rounded-md px-2 py-1.5 text-sm" />
                      <p id="t84pwError" class="text-xs text-red-400 mt-1"></p>
                    </div>
                  </div>
                </div>
              </div>

              <!-- STEP 2: Men -->
              <div class="step" data-step="2">
                <h2 class="text-xs uppercase tracking-wide text-gray-400 mb-1 mt-4">
                  Step 3 of 4 ‚Äî Men‚Äôs Predictions
                </h2>

                <!-- 59 kg Men -->
                <div class="border border-gray-700 rounded-md p-3 mb-3">
                  <h3 class="font-semibold text-sm mb-2">59 kg Men</h3>
                  <div class="space-y-2">
                    <div>
                      <label class="text-xs font-semibold mb-1 block">
                        Predicted Winner <span class="text-red-500">*</span>
                      </label>
                      <select id="w59m" name="w59m" data-gender="male"
                              class="w-full bg-gray-800 border border-gray-700 rounded-md px-2 py-1.5 text-sm">
                        <option value="">Select a lifter‚Ä¶</option>
                        <option>Salman Desai (435 kg)</option>
                        <option>Samuel Parkin (432.5 kg)</option>
                        <option>James Donnelley (430 kg)</option>
                        <option>Tejay Hall (320 kg)</option>
                      </select>
                      <p id="w59mError" class="text-xs text-red-400 mt-1"></p>
                    </div>
                    <div>
                      <label class="text-xs font-semibold mb-1 block">
                        Confidence Rating (1‚Äì16) <span class="text-red-500">*</span>
                      </label>
                      <select id="c59m" name="c59m"
                              class="conf-select w-full bg-gray-800 border border-gray-700 rounded-md px-2 py-1.5 text-sm">
                        <option value="">Select rating‚Ä¶</option>
                      </select>
                      <p id="c59mError" class="text-xs text-red-400 mt-1"></p>
                    </div>
                    <div>
                      <label class="text-xs font-semibold mb-1 block">Winning Total</label>
                      <input type="text" id="t59m" name="t59m"
                             class="w-full bg-gray-800 border border-gray-700 rounded-md px-2 py-1.5 text-sm" />
                      <p id="t59mError" class="text-xs text-red-400 mt-1"></p>
                    </div>
                  </div>
                </div>

                <!-- 66 kg Men -->
                <div class="border border-gray-700 rounded-md p-3 mb-3">
                  <h3 class="font-semibold text-sm mb-2">66 kg Men</h3>
                  <div class="space-y-2">
                    <div>
                      <label class="text-xs font-semibold mb-1 block">
                        Predicted Winner <span class="text-red-500">*</span>
                      </label>
                      <select id="w66m" name="w66m" data-gender="male"
                              class="w-full bg-gray-800 border border-gray-700 rounded-md px-2 py-1.5 text-sm">
                        <option value="">Select a lifter‚Ä¶</option>
                        <option>Joseph Diva (650.5 kg)</option>
                        <option>Benedict Grant (630 kg)</option>
                        <option>Ishtyaq Nabi (627.5 kg)</option>
                        <option>Ibnu Ayyub (567.5 kg)</option>
                        <option>Connor McKay (500 kg)</option>
                        <option>Matt Chan (487.5 kg)</option>
                        <option>Hari Swaminathan (462.5 kg)</option>
                      </select>
                      <p id="w66mError" class="text-xs text-red-400 mt-1"></p>
                    </div>
                    <div>
                      <label class="text-xs font-semibold mb-1 block">
                        Confidence Rating (1‚Äì16) <span class="text-red-500">*</span>
                      </label>
                      <select id="c66m" name="c66m"
                              class="conf-select w-full bg-gray-800 border border-gray-700 rounded-md px-2 py-1.5 text-sm">
                        <option value="">Select rating‚Ä¶</option>
                      </select>
                      <p id="c66mError" class="text-xs text-red-400 mt-1"></p>
                    </div>
                    <div>
                      <label class="text-xs font-semibold mb-1 block">Winning Total</label>
                      <input type="text" id="t66m" name="t66m"
                             class="w-full bg-gray-800 border border-gray-700 rounded-md px-2 py-1.5 text-sm" />
                      <p id="t66mError" class="text-xs text-red-400 mt-1"></p>
                    </div>
                  </div>
                </div>

                <!-- 74 kg Men -->
                <div class="border border-gray-700 rounded-md p-3 mb-3">
                  <h3 class="font-semibold text-sm mb-2">74 kg Men</h3>
                  <div class="space-y-2">
                    <div>
                      <label class="text-xs font-semibold mb-1 block">
                        Predicted Winner <span class="text-red-500">*</span>
                      </label>
                      <select id="w74m" name="w74m" data-gender="male"
                              class="w-full bg-gray-800 border border-gray-700 rounded-md px-2 py-1.5 text-sm">
                        <option value="">Select a lifter‚Ä¶</option>
                        <option>Sam Dew (712.5 kg)</option>
                        <option>Krishan Mistry (707.5 kg)</option>
                        <option>Jac Lewis (685.5 kg)</option>
                        <option>Kibria Ali (685 kg)</option>
                        <option>Scott Walton (670.5 kg)</option>
                        <option>Alex Fodor (665 kg)</option>
                        <option>Abdul Wajid Butt (650 kg)</option>
                        <option>Ehis Izokun (645 kg)</option>
                        <option>George Sandoe (632.5 kg)</option>
                        <option>Kieran Drysdale (615 kg)</option>
                        <option>Godfrey Chau (560 kg)</option>
                        <option>Carl Mullet (537.5 kg)</option>
                      </select>
                      <p id="w74mError" class="text-xs text-red-400 mt-1"></p>
                    </div>
                    <div>
                      <label class="text-xs font-semibold mb-1 block">
                        Confidence Rating (1‚Äì16) <span class="text-red-500">*</span>
                      </label>
                      <select id="c74m" name="c74m"
                              class="conf-select w-full bg-gray-800 border border-gray-700 rounded-md px-2 py-1.5 text-sm">
                        <option value="">Select rating‚Ä¶</option>
                      </select>
                      <p id="c74mError" class="text-xs text-red-400 mt-1"></p>
                    </div>
                    <div>
                      <label class="text-xs font-semibold mb-1 block">Winning Total</label>
                      <input type="text" id="t74m" name="t74m"
                             class="w-full bg-gray-800 border border-gray-700 rounded-md px-2 py-1.5 text-sm" />
                      <p id="t74mError" class="text-xs text-red-400 mt-1"></p>
                    </div>
                  </div>
                </div>

                <!-- 83 kg Men -->
                <div class="border border-gray-700 rounded-md p-3 mb-3">
                  <h3 class="font-semibold text-sm mb-2">83 kg Men</h3>
                  <div class="space-y-2">
                    <div>
                      <label class="text-xs font-semibold mb-1 block">
                        Predicted Winner <span class="text-red-500">*</span>
                      </label>
                      <select id="w83m" name="w83m" data-gender="male"
                              class="w-full bg-gray-800 border border-gray-700 rounded-md px-2 py-1.5 text-sm">
                        <option value="">Select a lifter‚Ä¶</option>
                        <option>Jurins Kengamu (872.5 kg)</option>
                        <option>Ade Omisakin (850 kg)</option>
                        <option>Tyri Miller (787.5 kg)</option>
                        <option>Owen Hubbard (772.5 kg)</option>
                        <option>Chinedum Okolo (750 kg)</option>
                        <option>Alex Bishop (747.5 kg)</option>
                        <option>Luke Paranal (745 kg)</option>
                        <option>Darius Kwong (740 kg)</option>
                        <option>Max Marshall (692.5 kg)</option>
                        <option>Christopher La (687.5 kg)</option>
                        <option>John Bermudez (667.5 kg)</option>
                        <option>Gabriel Trych (655 kg)</option>
                        <option>Daniel Dyszkant (645 kg)</option>
                        <option>Jordan Horne (632.5 kg)</option>
                      </select>
                      <p id="w83mError" class="text-xs text-red-400 mt-1"></p>
                    </div>
                    <div>
                      <label class="text-xs font-semibold mb-1 block">
                        Confidence Rating (1‚Äì16) <span class="text-red-500">*</span>
                      </label>
                      <select id="c83m" name="c83m"
                              class="conf-select w-full bg-gray-800 border border-gray-700 rounded-md px-2 py-1.5 text-sm">
                        <option value="">Select rating‚Ä¶</option>
                      </select>
                      <p id="c83mError" class="text-xs text-red-400 mt-1"></p>
                    </div>
                    <div>
                      <label class="text-xs font-semibold mb-1 block">Winning Total</label>
                      <input type="text" id="t83m" name="t83m"
                             class="w-full bg-gray-800 border border-gray-700 rounded-md px-2 py-1.5 text-sm" />
                      <p id="t83mError" class="text-xs text-red-400 mt-1"></p>
                    </div>
                  </div>
                </div>

                <!-- 93 kg Men -->
                <div class="border border-gray-700 rounded-md p-3 mb-3">
                  <h3 class="font-semibold text-sm mb-2">93 kg Men</h3>
                  <div class="space-y-2">
                    <div>
                      <label class="text-xs font-semibold mb-1 block">
                        Predicted Winner <span class="text-red-500">*</span>
                      </label>
                      <select id="w93m" name="w93m" data-gender="male"
                              class="w-full bg-gray-800 border border-gray-700 rounded-md px-2 py-1.5 text-sm">
                        <option value="">Select a lifter‚Ä¶</option>
                        <option>Christian Ayandokun (878.5 kg)</option>
                        <option>Maxwell Gyamfi (850 kg)</option>
                        <option>James Adcock (825 kg)</option>
                        <option>Jonathan Lewis (815.5 kg)</option>
                        <option>Jay Batten (800 kg)</option>
                        <option>Nathan Gevao (800 kg)</option>
                        <option>Demi Fatona (787.5 kg)</option>
                        <option>Harrison Sparks (780 kg)</option>
                        <option>Max Mansell-Rowe (777.5 kg)</option>
                        <option>Jamie Cadogan (773.5 kg)</option>
                        <option>Cyrus Khine (767.5 kg)</option>
                        <option>Declan Powell (762.5 kg)</option>
                        <option>Nicolas Ribeiro (730.5 kg)</option>
                        <option>Nicholas Hwong (712.5 kg)</option>
                      </select>
                      <p id="w93mError" class="text-xs text-red-400 mt-1"></p>
                    </div>
                    <div>
                      <label class="text-xs font-semibold mb-1 block">
                        Confidence Rating (1‚Äì16) <span class="text-red-500">*</span>
                      </label>
                      <select id="c93m" name="c93m"
                              class="conf-select w-full bg-gray-800 border border-gray-700 rounded-md px-2 py-1.5 text-sm">
                        <option value="">Select rating‚Ä¶</option>
                      </select>
                      <p id="c93mError" class="text-xs text-red-400 mt-1"></p>
                    </div>
                    <div>
                      <label class="text-xs font-semibold mb-1 block">Winning Total</label>
                      <input type="text" id="t93m" name="t93m"
                             class="w-full bg-gray-800 border border-gray-700 rounded-md px-2 py-1.5 text-sm" />
                      <p id="t93mError" class="text-xs text-red-400 mt-1"></p>
                    </div>
                  </div>
                </div>

                <!-- 105 kg Men -->
                <div class="border border-gray-700 rounded-md p-3 mb-3">
                  <h3 class="font-semibold text-sm mb-2">105 kg Men</h3>
                  <div class="space-y-2">
                    <div>
                      <label class="text-xs font-semibold mb-1 block">
                        Predicted Winner <span class="text-red-500">*</span>
                      </label>
                      <select id="w105m" name="w105m" data-gender="male"
                              class="w-full bg-gray-800 border border-gray-700 rounded-md px-2 py-1.5 text-sm">
                        <option value="">Select a lifter‚Ä¶</option>
                        <option>Nathaniel Massiah (895 kg)</option>
                        <option>Sanchez Dillon (882.5 kg)</option>
                        <option>Ben Pape (865 kg)</option>
                        <option>Cejai Lindsay (840.5 kg)</option>
                        <option>Sam Cook (815 kg)</option>
                        <option>Emmanouil Olympios Mavriotis (810 kg)</option>
                        <option>Andrew Wallace (805 kg)</option>
                        <option>William Ndubueze (802.5 kg)</option>
                        <option>Kayode Tobun (787.5 kg)</option>
                        <option>Brandon Burnett-Uzoka (780 kg)</option>
                        <option>William Greaves (767.5 kg)</option>
                        <option>Jack Gilchrist (762.5 kg)</option>
                      </select>
                      <p id="w105mError" class="text-xs text-red-400 mt-1"></p>
                    </div>
                    <div>
                      <label class="text-xs font-semibold mb-1 block">
                        Confidence Rating (1‚Äì16) <span class="text-red-500">*</span>
                      </label>
                      <select id="c105m" name="c105m"
                              class="conf-select w-full bg-gray-800 border border-gray-700 rounded-md px-2 py-1.5 text-sm">
                        <option value="">Select rating‚Ä¶</option>
                      </select>
                      <p id="c105mError" class="text-xs text-red-400 mt-1"></p>
                    </div>
                    <div>
                      <label class="text-xs font-semibold mb-1 block">Winning Total</label>
                      <input type="text" id="t105m" name="t105m"
                             class="w-full bg-gray-800 border border-gray-700 rounded-md px-2 py-1.5 text-sm" />
                      <p id="t105mError" class="text-xs text-red-400 mt-1"></p>
                    </div>
                  </div>
                </div>

                <!-- 120 kg Men -->
                <div class="border border-gray-700 rounded-md p-3 mb-3">
                  <h3 class="font-semibold text-sm mb-2">120 kg Men</h3>
                  <div class="space-y-2">
                    <div>
                      <label class="text-xs font-semibold mb-1 block">
                        Predicted Winner <span class="text-red-500">*</span>
                      </label>
                      <select id="w120m" name="w120m" data-gender="male"
                              class="w-full bg-gray-800 border border-gray-700 rounded-md px-2 py-1.5 text-sm">
                        <option value="">Select a lifter‚Ä¶</option>
                        <option>Joshua Ngoka (945.5 kg)</option>
                        <option>Abdul Majeed Sulayman (930 kg)</option>
                        <option>Nonso Chinye (930 kg)</option>
                        <option>Lewis Kelly (855.5 kg)</option>
                        <option>Curtis McLaren (847.5 kg)</option>
                        <option>Trevor Jordan (840 kg)</option>
                        <option>Sam Nayler (830 kg)</option>
                        <option>Finn Wood (815 kg)</option>
                        <option>Mamoke Akaunu (810 kg)</option>
                        <option>Alexander Jackson (807.5 kg)</option>
                        <option>Jordaine Jones (807.5 kg)</option>
                        <option>Hector Van Smirren (762.5 kg)</option>
                      </select>
                      <p id="w120mError" class="text-xs text-red-400 mt-1"></p>
                    </div>
                    <div>
                      <label class="text-xs font-semibold mb-1 block">
                        Confidence Rating (1‚Äì16) <span class="text-red-500">*</span>
                      </label>
                      <select id="c120m" name="c120m"
                              class="conf-select w-full bg-gray-800 border border-gray-700 rounded-md px-2 py-1.5 text-sm">
                        <option value="">Select rating‚Ä¶</option>
                      </select>
                      <p id="c120mError" class="text-xs text-red-400 mt-1"></p>
                    </div>
                    <div>
                      <label class="text-xs font-semibold mb-1 block">Winning Total</label>
                      <input type="text" id="t120m" name="t120m"
                             class="w-full bg-gray-800 border border-gray-700 rounded-md px-2 py-1.5 text-sm" />
                      <p id="t120mError" class="text-xs text-red-400 mt-1"></p>
                    </div>
                  </div>
                </div>

                <!-- 120+ kg Men -->
                <div class="border border-gray-700 rounded-md p-3 mb-3">
                  <h3 class="font-semibold text-sm mb-2">120+ kg Men</h3>
                  <div class="space-y-2">
                    <div>
                      <label class="text-xs font-semibold mb-1 block">
                        Predicted Winner <span class="text-red-500">*</span>
                      </label>
                      <select id="w120pm" name="w120pm" data-gender="male"
                              class="w-full bg-gray-800 border border-gray-700 rounded-md px-2 py-1.5 text-sm">
                        <option value="">Select a lifter‚Ä¶</option>
                        <option>Ajay Sharma (1,001 kg)</option>
                        <option>Paul Kirkbride-Richards (960 kg)</option>
                        <option>Ray Bowring (915 kg)</option>
                        <option>Kyrone Randolph (820 kg)</option>
                        <option>George Nash (772.5 kg)</option>
                        <option>Ben Gibson (760.5 kg)</option>
                        <option>Jordan Leonard (755 kg)</option>
                        <option>Charlie Darke (692.5 kg)</option>
                        <option>Ross Shahin-Ajerlo (666 kg)</option>
                        <option>Nimrod Avissar (625 kg)</option>
                      </select>
                      <p id="w120pmError" class="text-xs text-red-400 mt-1"></p>
                    </div>
                    <div>
                      <label class="text-xs font-semibold mb-1 block">
                        Confidence Rating (1‚Äì16) <span class="text-red-500">*</span>
                      </label>
                      <select id="c120pm" name="c120pm"
                              class="conf-select w-full bg-gray-800 border border-gray-700 rounded-md px-2 py-1.5 text-sm">
                        <option value="">Select rating‚Ä¶</option>
                      </select>
                      <p id="c120pmError" class="text-xs text-red-400 mt-1"></p>
                    </div>
                    <div>
                      <label class="text-xs font-semibold mb-1 block">Winning Total</label>
                      <input type="text" id="t120pm" name="t120pm"
                             class="w-full bg-gray-800 border border-gray-700 rounded-md px-2 py-1.5 text-sm" />
                      <p id="t120pmError" class="text-xs text-red-400 mt-1"></p>
                    </div>
                  </div>
                </div>
              </div>

              <!-- STEP 3: Best Lifters -->
              <div class="step" data-step="3">
                <p class="text-xs text-gray-400 mb-3">
                  Final tie-breaker: predict which lifters will achieve the highest IPF GL points.
                </p>
                <div class="space-y-3">
                  <div>
                    <label for="femaleBest" class="text-xs font-semibold mb-1 block">
                      Female Best Lifter <span class="text-red-500">*</span>
                    </label>
                    <input type="text" id="femaleBest" name="femaleBest" list="femaleBestList"
                           class="w-full bg-gray-800 border border-gray-700 rounded-md px-2 py-1.5 text-sm" />
                    <datalist id="femaleBestList"></datalist>
                    <p id="femaleBestError" class="text-xs text-red-400 mt-1"></p>
                  </div>
                  <div>
                    <label for="maleBest" class="text-xs font-semibold mb-1 block">
                      Male Best Lifter <span class="text-red-500">*</span>
                    </label>
                    <input type="text" id="maleBest" name="maleBest" list="maleBestList"
                           class="w-full bg-gray-800 border border-gray-700 rounded-md px-2 py-1.5 text-sm" />
                    <datalist id="maleBestList"></datalist>
                    <p id="maleBestError" class="text-xs text-red-400 mt-1"></p>
                  </div>
                </div>

                <p class="mt-4 text-xs text-gray-400">
                  After submitting, you‚Äôll receive a full copy of your responses and a unique link
                  to edit your entry until <b>4 December 2025, 11:59 pm (GMT)</b>.
                  If you can‚Äôt see the email, please check spam/junk and mark it as ‚ÄúNot spam‚Äù.
                </p>
              </div>

              <!-- Navigation buttons (BOTTOM) -->
              <div class="flex items-center justify-between pt-4 border-t border-gray-700 mt-4">
                <button type="button" id="backBtn"
                        class="px-3 py-2 rounded-full bg-gray-800 text-xs font-semibold border border-gray-700 hover:bg-gray-700 transition">
                  Back
                </button>

                <button type="button" id="nextBtn"
                        class="px-4 py-2 rounded-full bg-red-600 text-xs sm:text-sm font-semibold hover:bg-red-500 transition">
                  Next
                </button>
              </div>
            </form>

            <!-- Edit link display box (filled after submit) -->
            <div id="edit-link-box" class="mt-4"></div>
          </div>
        </div>
      </section>

      <!-- View Metrics Button -->
      <div class="flex justify-center mt-8">
        <a href="metrics.html"
           class="inline-flex items-center justify-center bg-gray-800/60 border border-gray-700
                  text-gray-200 font-semibold px-6 py-3 rounded-full backdrop-blur-sm shadow-lg
                  hover:bg-gray-700/70 hover:text-red-400 transition text-sm">
          View Metrics
        </a>
      </div>

      <!-- Bottom Back to Top Button (existing behaviour) -->
      <div class="flex justify-center mt-8">
        <button id="bottomBackToTop"
                class="bg-gray-800/60 border border-gray-700 text-red-500 w-10 h-10 rounded-full
                       flex items-center justify-center backdrop-blur-sm shadow-lg
                       hover:bg-gray-700/70 hover:text-red-400 transition">
          <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none"
               viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round" d="M5 15l7-7 7 7" />
          </svg>
        </button>
      </div>

      <!-- FLOATING FAB: Back to Top / Scroll to Bottom -->
      <div id="scrollFab"
           class="fixed right-4 bottom-20 flex flex-col gap-3 z-40 opacity-0 pointer-events-none transition-opacity duration-300">
        <button id="fabScrollTop"
                class="bg-gray-800/70 border border-gray-700 text-red-500 w-10 h-10 rounded-full
                       flex items-center justify-center backdrop-blur-sm shadow-lg
                       hover:bg-gray-700/80 hover:text-red-400 transition">
          <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none"
               viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round" d="M5 15l7-7 7 7" />
          </svg>
        </button>

        <button id="fabScrollBottom"
                class="bg-gray-800/70 border border-gray-700 text-red-500 w-10 h-10 rounded-full
                       flex items-center justify-center backdrop-blur-sm shadow-lg
                       hover:bg-gray-700/80 hover:text-red-400 transition">
          <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none"
               viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" />
          </svg>
        </button>
      </div>

      <footer class="text-center text-gray-500 text-sm mt-16 pb-4">
        Sponsored by the Sabado Sessions Podcast
      </footer>
    </main>
  </div>

  <!-- Scripts -->
  <script src="entry.js"></script>
  <script>
    // Mobile menu
    const menuBtn = document.getElementById('menu-btn');
    const mobileMenu = document.getElementById('mobile-menu');

    function toggleMenu(show) {
      if (show) {
        mobileMenu.classList.remove('scale-y-0','opacity-0','pointer-events-none');
        mobileMenu.classList.add('scale-y-100','opacity-100');
        menuBtn.setAttribute('aria-expanded','true');
      } else {
        mobileMenu.classList.add('scale-y-0','opacity-0','pointer-events-none');
        mobileMenu.classList.remove('scale-y-100','opacity-100');
        menuBtn.setAttribute('aria-expanded','false');
      }
    }

    let menuVisible = false;
    menuBtn.addEventListener('click', (e) => {
      menuVisible = !menuVisible;
      toggleMenu(menuVisible);
      e.stopPropagation();
    });
    document.addEventListener('click', (e) => {
      if(!mobileMenu.contains(e.target) && !menuBtn.contains(e.target)){
        if(menuVisible){
          menuVisible = false;
          toggleMenu(false);
        }
      }
    });
    toggleMenu(false);

    // Spotify gate: ensure new tab where possible + remember pass
    const spotifyLink = document.getElementById('spotify-link');
    const spotifyLock = document.getElementById('spotify-lock');
    const softGateImage = document.getElementById('softGateImage');

    spotifyLink.addEventListener('click', (e) => {
      e.preventDefault();
      const url = spotifyLink.href;

      // Never show gate again this session
      sessionStorage.setItem('spotifyPassed', '1');
      spotifyLock.classList.add('hidden');

      // Try to force new tab (especially on Android)
      const opened = window.open(url, '_blank');
      if (!opened) {
        window.location.href = url;
      }
    });

    document.addEventListener('DOMContentLoaded', () => {
      if (sessionStorage.getItem('spotifyPassed') === '1') {
        spotifyLock.classList.add('hidden');
      }
    });

    // Bottom Back to Top
    const bottomBackToTop = document.getElementById('bottomBackToTop');
    if (bottomBackToTop) {
      bottomBackToTop.addEventListener('click', () => {
        window.scrollTo({ top: 0, behavior: 'smooth' });
      });
    }

    // Floating FAB scroll behaviour
    const scrollFab = document.getElementById('scrollFab');
    const fabScrollTop = document.getElementById('fabScrollTop');
    const fabScrollBottom = document.getElementById('fabScrollBottom');

    function updateFabVisibility() {
      if (!scrollFab) return;
      const scrollY = window.scrollY || window.pageYOffset;
      const docHeight = document.documentElement.scrollHeight;
      const winHeight = window.innerHeight;

      const fromTop = scrollY;
      const fromBottom = docHeight - (scrollY + winHeight);
      const threshold = 200;

      if (fromTop > threshold && fromBottom > threshold) {
        scrollFab.classList.remove('opacity-0', 'pointer-events-none');
        scrollFab.classList.add('opacity-100');
      } else {
        scrollFab.classList.add('opacity-0', 'pointer-events-none');
        scrollFab.classList.remove('opacity-100');
      }
    }

    if (fabScrollTop) {
      fabScrollTop.addEventListener('click', () => {
        window.scrollTo({ top: 0, behavior: 'smooth' });
      });
    }

    if (fabScrollBottom) {
      fabScrollBottom.addEventListener('click', () => {
        const docHeight = document.documentElement.scrollHeight;
        window.scrollTo({ top: docHeight, behavior: 'smooth' });
      });
    }

    window.addEventListener('scroll', updateFabVisibility);
    window.addEventListener('resize', updateFabVisibility);
    updateFabVisibility();
  </script>

  <!-- EMAIL EXISTS POPUP (still here, even if JS currently uses confirm) -->
  <div id="emailExistsModal"
       class="fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-[999] hidden">
    <div class="bg-gray-900 border border-gray-700 rounded-xl p-6 w-80 text-center">
      <h2 class="text-lg font-semibold text-red-400 mb-3">Email Already Used</h2>
      <p class="text-sm text-gray-300 mb-4">
        This email already has an entry.<br>
        Would you like us to resend your private edit link?
      </p>

      <button id="resendLinkBtn"
              class="w-full py-2 rounded-lg bg-red-600 font-semibold hover:bg-red-500 mb-2">
        Send My Link
      </button>

      <button id="cancelEmailExistsBtn"
              class="w-full py-2 rounded-lg bg-gray-700 font-semibold hover:bg-gray-600">
        Cancel
      </button>
    </div>
  </div>
</body>
</html>
